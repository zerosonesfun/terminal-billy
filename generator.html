<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Billy Wilcosky">
    <meta name="license" content="GNUv3">
    <meta name="description" content="Terminal Billy is the fun and nerdy way to interact with websites.">
    <meta name="keywords" content="command line, terminal, interactive, navigation">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Terminal Billy - Fun and Nerdy Interaction">
    <meta property="og:description" content="Terminal Billy is the fun and nerdy way to interact with websites.">
    <title>$b</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: monospace;
        }
    </style>
</head>
<body>
    
<!-- Unless creating a brand new page, start copying the code here. Although having styles after the body tag is not traditionally proper, it works and helps ensure things look OK for beginners. -->
    
<style>
.terminal-input {
    background: [[bk-color]];
    border: none;
    font-size: inherit;
    color: [[text-color]];
    font-family: monospace;
}

.terminal-container {
    color: [[text-color]];
}

.terminal-input:focus{
    outline: none;
}

.terminal-output {
  white-space: pre-wrap;
}

.typing::after {
  content: "";
  animation: typing 1s steps(40, end);
}

@keyframes typing {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}
</style>

<!-- The container where everything appears. -->

<div class="terminal-container">
  <pre class="terminal-output"></pre>
  $b <input type="text" class="terminal-input" autofocus>
</div>

<!-- End of the container. -->

<!-- Begin the form to collect user input -->

<form id="customization-form">
  <label for="bk-color">Background Color:</label>
  <input type="text" id="bk-color" name="bk-color" required>
  
  <label for="text-color">Text Color:</label>
  <input type="text" id="text-color" name="text-color" required>
  
  <label for="names-available">Names Available:</label>
  <input type="text" id="names-available" name="names-available" placeholder="e.g., billy, bob, joe" required>
  
  <label for="available-pages">Available Pages:</label>
  <input type="text" id="available-pages" name="available-pages" placeholder="e.g., page1, page2, page3" required>
  
  <label for="answer">Answer to All Questions:</label>
  <textarea id="answer" name="answer" required></textarea>
  
  <button type="submit">Generate Code</button>
</form>

<!-- End of the form -->

<!-- Beginning of JavaScript. The addEventListener is how the code knows where to look for commands and where to print text. -->

<script>
document.addEventListener('DOMContentLoaded', function() {
  var terminalInput = document.querySelector('.terminal-input');
  var terminalOutput = document.querySelector('.terminal-output');
  var messageBuffer = "";
  var emailMode = false;
  
  terminalInput.addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      event.preventDefault();
      var command = terminalInput.value.trim();
      terminalInput.value = '';
      printMessage('$ ' + command);
      handleCommand(command);
    }
  });
  
  function handleCommand(command) {
    if (command.toLowerCase() === 'email') {
      emailMode = !emailMode;
      printMessage('Email mode ' + (emailMode ? 'activated' : 'deactivated'));
    } else {
      printMessage("Unknown command: " + command);
    }
  }
  
  function printMessage(message) {
    terminalOutput.innerHTML += '\n' + message;
    terminalOutput.scrollTop = terminalOutput.scrollHeight;
  }
  
  function printOutput(output) {
    if (emailMode) {
      printMessage(output);
    } else {
      messageBuffer += output + '\n';
      terminalOutput.innerHTML = messageBuffer;
      terminalOutput.scrollTop = terminalOutput.scrollHeight;
    }
  }

  // Generate the code based on the form input
  var customizationForm = document.getElementById('customization-form');
  customizationForm.addEventListener('submit', function(event) {
    event.preventDefault();

    // Get the form field values
    var bkColor = document.getElementById('bk-color').value.trim();
    var textColor = document.getElementById('text-color').value.trim();
    var namesAvailable = document.getElementById('names-available').value.trim();
    var availablePages = document.getElementById('available-pages').value.trim();
    var answer = document.getElementById('answer').value.trim();

    // Replace the placeholders in the code with the user's input
    var code = getCodeTemplate()
      .replace('[[bk-color]]', bkColor)
      .replace('[[text-color]]', textColor)
      .replace('[[names-available]]', namesAvailable)
      .replace('[[available-pages]]', availablePages)
      .replace('[[answer]]', answer);

    // Update the textarea with the generated code
    var codeTextarea = document.createElement('textarea');
    codeTextarea.value = code;
    document.body.appendChild(codeTextarea);
    codeTextarea.select();
    document.execCommand('copy');
    document.body.removeChild(codeTextarea);

    // Clear the form fields
    customizationForm.reset();
  });

  function getCodeTemplate() {
    var namesAvailableArray = document.getElementById('names-available').value.trim().split(',').map(name => name.trim());
    var availablePagesArray = document.getElementById('available-pages').value.trim().split(',').map(slug => slug.trim());
    
    var namesCases = namesAvailableArray.map(name => `      case '${name}':
        typeResponse('${name} description\\n');
        break;`).join('\n');

    return `
<!-- Unless creating a brand new page, start copying the code here. Although having styles after the body tag is not traditionally proper, it works and helps ensure things look OK for beginners. -->

<style>
.terminal-input {
    background: [[bk-color]];
    border: none;
    font-size: inherit;
    color: [[text-color]];
    font-family: monospace;
}

.terminal-container {
    color: [[text-color]];
}

.terminal-input:focus{
    outline: none;
}

.terminal-output {
  white-space: pre-wrap;
}

.typing::after {
  content: "";
  animation: typing 1s steps(40, end);
}

@keyframes typing {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}
</style>

<!-- The container where everything appears. -->

<div class="terminal-container">
  <pre class="terminal-output"></pre>
  $b <input type="text" class="terminal-input" autofocus>
</div>

<!-- End of the container. -->

<!-- Begin the form to collect user input -->

<form id="customization-form">
  <label for="bk-color">Background Color:</label>
  <input type="text" id="bk-color" name="bk-color" required>
  
  <label for="text-color">Text Color:</label>
  <input type="text" id="text-color" name="text-color" required>
  
  <label for="names-available">Names Available:</label>
  <input type="text" id="names-available" name="names-available" placeholder="e.g., billy, bob, joe" required>
  
  <label for="available-pages">Available Pages:</label>
  <input type="text" id="available-pages" name="available-pages" placeholder="e.g., page1, page2, page3" required>
  
  <label for="answer">Answer to All Questions:</label>
  <textarea id="answer" name="answer" required></textarea>
  
  <button type="submit">Generate Code</button>
</form>

<!-- End of the form -->

<!-- Beginning of JavaScript. The addEventListener is how the code knows where to look for commands and where to print text. -->

<script>
document.addEventListener('DOMContentLoaded', function() {
  var terminalInput = document.querySelector('.terminal-input');
  var terminalOutput = document.querySelector('.terminal-output');
  var messageBuffer = "";
  var emailMode = false;
  
  terminalInput.addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      event.preventDefault();
      var command = terminalInput.value.trim();
      terminalInput.value = '';
      printMessage('$ ' + command);
      handleCommand(command);
    }
  });
  
  function handleCommand(command) {
    if (command.toLowerCase() === 'email') {
      emailMode = !emailMode;
      printMessage('Email mode ' + (emailMode ? 'activated' : 'deactivated'));
    } else {
      printMessage("Unknown command: " + command);
    }
  }
  
  function printMessage(message) {
    terminalOutput.innerHTML += '\\n' + message;
    terminalOutput.scrollTop = terminalOutput.scrollHeight;
  }
  
  function printOutput(output) {
    if (emailMode) {
      printMessage(output);
    } else {
      messageBuffer += output + '\\n';
      terminalOutput.innerHTML = messageBuffer;
      terminalOutput.scrollTop = terminalOutput.scrollHeight;
    }
  }
  
${namesCases}

  function whoCommand(name) {
    switch (name) {
${namesAvailableArray.map(name => `      case '${name}':
        typeResponse('${name} description\\n');
        break;`).join('\n')}
    }
  }
});
</script>
`;

  }
</script>
</body>
</html>
